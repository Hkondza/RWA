@using Microsoft.AspNetCore.Http
@{
    var jwt = Context.Request.Cookies["jwt"];
    var username = Context.Request.Cookies["username"];
    var role = Context.Request.Cookies["role"];
    var isLoggedIn = !string.IsNullOrEmpty(jwt);
}

<nav style="
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:15px 30px;
    background:#1f2937;
    color:white;
    font-family:Arial;
">
    <!-- LEFT -->
    <div style="display:flex; gap:20px; align-items:center;">
        <a href="/" style="color:#38bdf8; font-weight:bold; font-size:22px; text-decoration:none;">
            JobFinder
        </a>

        <a href="/JobOffer" style="color:white; text-decoration:none;">Job Offers</a>
        <a href="/Firm" style="color:white; text-decoration:none;">Firms</a>

        @if (isLoggedIn && role == "Employer")
        {
            <a href="/JobOffer/Create" style="color:white; text-decoration:none;">Create Job</a>
            <a href="/Application/MyApplications" style="color:white; text-decoration:none;">Applications</a>
        }

        @if (isLoggedIn && role == "Employee")
        {
            <a href="/Application/MyApplications" style="color:white; text-decoration:none;">My Applications</a>
        }
    </div>

    <!-- RIGHT -->
    <div style="display:flex; gap:15px; align-items:center;">
        @if (!isLoggedIn)
        {
            <a href="/Account/Login" style="color:white;">Login</a>
            <a href="/Account/Register"
               style="background:#2563eb; padding:8px 14px; border-radius:6px; color:white; text-decoration:none;">
                Register
            </a>
        }
        else
        {
            <span style="opacity:0.9;">
                👤 @username (@role)
            </span>

            <a href="/Account/Profile" style="color:white;">Profile</a>

            <a href="/Account/Logout"
               style="background:#dc2626; padding:8px 14px; border-radius:6px; color:white; text-decoration:none;">
                Logout
            </a>
        }
    </div>
</nav>
